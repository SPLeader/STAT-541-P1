---
title: "EDA"
author: "Sean Leader, Rebecca Ioffe, Ashley Ibarra"
format: html
editor: visual
---

# Summary

This file is meant to be an exploration into the different visualizations and data summaries we may want to include in our shiny app.

# Setup

```{r}
#| message: false
library(tidyverse)
library(here)
```

```{r}
agencies <- read_csv(here("data", "fatal-police-shootings-agencies.csv"))

shootings <- read_csv(here("data", "shootings_clean.csv"))
```

```{r}
shootings
```


```{r}
state_info <- data.frame(
  NAME = state.name,
  state = state.abb
)

full_data <- spData::us_states %>% 
  select(-geometry) %>% 
  inner_join(state_info, by = "NAME") %>% 
  inner_join(shootings, by = "state")
```


```{r}
shootings %>% 
  group_by(race) %>% 
  count(armed_with) %>% 
  mutate(perc = round(n / sum(n) * 100, 1)) %>% 
  filter(perc > 10) %>% 
  mutate(perc = perc / sum(perc))
```

```{r}
shootings
```
